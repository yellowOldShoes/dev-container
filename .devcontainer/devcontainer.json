{
  "name": "Java Spring Boot (in Volume)",
  
  // 核心配置：告诉VS Code如何构建开发环境
  "build": {
    // 使用我们刚刚创建的那个开发环境Dockerfile
    "dockerfile": "Dockerfile"
  },
 "postCreateCommand": "sudo chown -R node:node /home/node/.ssh && sudo chmod 700 /home/node/.ssh && sudo chmod 600 /home/node/.ssh/*",
  // VS Code会自动在容器内安装这些扩展
  "customizations": {
    "vscode": {
      "extensions": [
        "vscjava.vscode-java-pack",
        "pivotal.vscode-boot-dev-pack"
      ]
    }
  },
   "mounts": [

    // 【新增！】将宿主机的 Maven 配置文件挂载到容器的 .m2 目录
    "source=${localEnv:HOME}/.m2/settings.xml,target=/home/vscode/.m2/settings.xml,type=bind,consistency=cached"
  ],


  // 自动将应用的8080端口和调试端口转发出来
  "forwardPorts": [8080, 5005],

  // 容器首次创建后，执行的命令 (比如检查maven版本)
  // "postCreateCommand": "mvn --version",

  // 在容器内使用的用户名 (这个基础镜像默认是vscode)
  "remoteUser": "vscode"
}